SELECT AVG(credits_sum) AS average_total_credits FROM students s INNER JOIN (SELECT g.g_b#, SUM(ccc.credits) AS credits_sum FROM g_enrollments g INNER JOIN (SELECT c.classid, c.course#, cc.credits FROM classes c INNER JOIN (SELECT course#, credits FROM course_credit) cc ON c.course# = cc.course#) ccc ON g.classid = ccc.classid WHERE g.score IS NOT NULL GROUP BY g_B#) c ON s.B# = c.g_B#;